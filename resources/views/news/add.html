@extends('com.default')

@section('style')
<!--编辑器-->
<link rel="stylesheet" type="text/css" href="http://www.jq22.com/jquery/font-awesome.4.6.0.css">
<link href="/css/froala_editor.min.css" rel="stylesheet" type="text/css">
<style>
    body {
        text-align: center;
    }
    section {
        width: 80%;
        margin: auto;
        text-align: left;
    }
</style>
<!--编辑器-->
@endsection

@section('content')
<div class="lark-header">

</div>


<el-form >
    <section id="editor">
        <div id='edit' style="margin-top: 30px;">
        </div>
    </section>
    <el-form-item>

    </el-form-item>
</el-form>
@endsection
@section('script')

<!--编辑器-->
<!--script src="http://www.jq22.com/jquery/jquery-1.10.2.js"></script-->
<script src="/js/editor/libs/jquery-1.11.1.min.js"></script>
<script src="/js/editor/froala_editor.min.js"></script>
<!--[if lt IE 9]>
<script src="/js/editor/froala_editor_ie8.min.js"></script>
<![endif]-->
<script src="/js/editor/plugins/tables.min.js"></script>
<script src="/js/editor/plugins/lists.min.js"></script>
<script src="/js/editor/plugins/colors.min.js"></script>
<script src="/js/editor/plugins/media_manager.min.js"></script>
<script src="/js/editor/plugins/font_family.min.js"></script>
<script src="/js/editor/plugins/font_size.min.js"></script>
<script src="/js/editor/plugins/block_styles.min.js"></script>
<script src="/js/editor/plugins/video.min.js"></script>
<script>
    $(function(){
        $('#edit').editable({inlineMode: false, alwaysBlank: true})
    });
</script>
<!--编辑器-->


<script>
    var vapp = new Vue({
        el: '.content-box',
        data:{
            menuData: {},
            data_loading: false,
            dialogTitle:'',
        },
        created:function(){
            var self = this;

        },
        methods: {
            saveMenu: function(){
                var self = this;
                this.$refs['editForm2'].validate(function(valid) {
                    if(valid){
                        httpPost('/menu/save',self.editForm,function(data){
                            if (data.code === 200){
                                self.editFormVisible = false;
                                self.$message.success('保存菜单成功');
                                self.search();
                            }else{
                                self.$message.error(data.msg);
                            }
                        });
                    }
                });
            }
        }
    });
</script>
@endsection